var Manager=Modal.extend({$field:null,init:function(){this.base();var e={};e[csrfTokenName]=csrfTokenValue,$.post(Dukt.getActionUrl("videos/manager"),e,$.proxy(function(e,n,i){if("success"==n){this.$inject.html(e),$container=this.$container,ko.applyBindings(new KoManager,$(".videos-manager",$container).get(0));var a=$container,s=$(".videos-gateways-loading",a);Dukt.Utils.positionCenter(s,a);var t=$(".videos-main .dk-middle",$container),o=$(".dk-no-videos",t);Dukt.Utils.positionCenter(o,t)}},this))},getVideosError:function(e,n){var i=$(".videos-main .dk-middle"),a=$(".dk-error",i);a.html(e),a.removeClass("hidden"),n?(a.addClass("dk-absolute"),Dukt.Utils.positionCenter(a,i)):(a.removeClass("dk-absolute"),a.css("width","auto"),a.css("height","auto"))},getVideosErrorReset:function(){var e=$(".videos-main .dk-middle"),n=$(".dk-error",e);n.html(""),n.addClass("hidden")},spinner:function(e){"on"==e?$(".dk-spinner",this.$container).removeClass("hidden"):$(".dk-spinner",this.$container).addClass("hidden")},open:function(e){this.base(),this.$field=e,Dukt.Utils.positionCenter($(".dk-center",this.$container),this.$container)},play:function(e){$(".videos-manager-player",this.$container).removeClass("hidden"),$(".videos-manager-player",this.$container).html('<iframe src="'+e.embedUrl+'autoplay=1" />'),$(".dk-back",this.$container).removeClass("hidden")},back:function(){$(".videos-manager-player",this.$container).addClass("hidden"),$(".videos-manager-player",this.$container).html(""),$(".dk-back",this.$container).addClass("hidden")},more:function(e){"show"==e?$(".dk-more",this.$container).removeClass("hidden"):$(".dk-more",this.$container).addClass("hidden")}}),$manager=new Manager;