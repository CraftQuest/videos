function ServicesListCtrl(e,t,n,r,i,s,o){function a(e,i){typeof t.playlistId!="undefined"&&(e.playlistId=t.playlistId);o.loader.on();n({method:"POST",url:Craft.getActionUrl("duktvideos/ajax/angular",e)}).success(function(e,t,n,r){console.log("ajax/angular : success")}).error(function(e,t,n,r){console.log("ajax/angular : error",e,t,n,r)}).then(function(e,t,n){console.log("ajax/angular : then");typeof i=="function"?i(e.data):r.videos=e.data;e.data.length<Dukt_videos.pagination_per_page?o.videoMore.off():o.videoMore.on();o.loader.off()})}console.log("controller",t.serviceKey,t.methodName);if(typeof t.serviceKey!="undefined"&&typeof t.methodName!="undefined"){var u={service:t.serviceKey,method:t.methodName,page:1,perPage:Dukt_videos.pagination_per_page};t.methodName!="search"&&a(u)}e.moreVideos=function(){var e=r.videos.length;o.videoMore.off();perPage=Dukt_videos.pagination_per_page;page=Math.floor(e/perPage)+1;var n={method:t.methodName,service:t.serviceKey,searchQuery:o.searchQuery,page:page,perPage:perPage};a(n,function(e){$.merge(r.videos,e)})};e.play=function(t){$("#player").css("visibility","visible");$("#player-overlay").css("visibility","visible");e.selected=t;n({method:"POST",url:Craft.getActionUrl("duktvideos/ajax/angular",{method:"embed",videoUrl:t.url,service:e.serviceKey})}).success(function(e,t,n,r){console.log("--success",$.parseJSON(e));$("#player #videoDiv").html($.parseJSON(e))}).error(function(e,t,n,r){console.log("--error",e,t,n,r)});console.log("play video",t.id)};e.isSelected=function(t){return e.selected===t}};