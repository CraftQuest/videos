function RootCtrl(e){console.log("aljehkjahjh akjehajkzehkjahekjhjkhazeahze hello rootcontrol")}function ServicesListCtrl($scope,$routeParams,$http,$rootScope,$location,$route,DuktVideosService){if(!once){$rootScope.$on("$routeChangeSuccess",function(e,t){$rootScope.serviceKey=$routeParams.serviceKey;$rootScope.methodName=$routeParams.methodName;console.log("$rootScope.methodName",$rootScope.methodName,e,t)});once=!0}$scope.playlistId=$routeParams.playlistId;typeof $rootScope.services!="undefined"&&($scope.currentService=$rootScope.services[$rootScope.serviceKey]);$rootScope.videos=eval("$rootScope."+$rootScope.serviceKey+"_videos");$scope.serviceChange=function(){$location.path($(".dv-sidebar select").val()+"/"+$rootScope.methodName)};$scope.getClass=function(e){var t=new RegExp("/.*/"+e),n=$location.path().match(t);return n?"active":""};if($rootScope.serviceKey&&$rootScope.methodName){var opts={method:$rootScope.methodName,service:$rootScope.serviceKey,playlistId:$scope.playlistId};$(".dv-main .toolbar .spinner").removeClass("hidden");$http({method:"POST",url:Craft.getActionUrl("duktvideos/ajax/angular",opts),cache:!0}).success(function(e,t,n,r){$rootScope.videos=e;$rootScope.videos.length==0;e.length<Dukt_videos.pagination_per_page?$(".dv-video-more").css("display","none"):$(".dv-video-more").css("display","block");$(".dv-main .toolbar .spinner").addClass("hidden")}).error(function(e,t,n,r){console.log("error",e,t,n,r)})}$scope.searchQuery=DuktVideosService.searchQuery;var searchTimer=!1;$scope.searchKeyPress=function(e){console.log(e)};$scope.search=function(e){typeof e=="undefined"&&(e=!1);if(DuktVideosService.searchQuery!=$scope.searchQuery||e==1){DuktVideosService.searchQuery=$scope.searchQuery;clearTimeout(searchTimer);searchTimer=setTimeout(function(){var e={method:"search",service:$rootScope.serviceKey,searchQuery:DuktVideosService.searchQuery};$(".dv-main .toolbar .spinner").removeClass("hidden");$http({method:"POST",url:Craft.getActionUrl("duktvideos/ajax/angular",e),cache:!0}).success(function(e,t,n,r){$rootScope.videos=e;$rootScope.videos.length==0;e.length<Dukt_videos.pagination_per_page?$(".dv-video-more").css("display","none"):$(".dv-video-more").css("display","block");$(".dv-main .toolbar .spinner").addClass("hidden")}).error(function(e,t,n,r){console.log("error",e,t,n,r)})},500)}};$scope.play=function(e){$("#player").css("visibility","visible");$("#player-overlay").css("visibility","visible");$scope.selected=e;loadVideo(e.id);console.log("play video",e.id)};$scope.isSelected=function(e){return $scope.selected===e};$scope.moreVideos=function(){var e=$rootScope.videos.length;$(".dv-video-more").css("display","none");var t={method:$rootScope.methodName,service:$rootScope.serviceKey,searchQuery:DuktVideosService.searchQuery,offset:e};$http({method:"POST",url:Craft.getActionUrl("duktvideos/ajax/angular",t),cache:!0}).success(function(e,t,n,r){console.log("xxxxsuccess",e);console.log("-----success",e.length);$.merge($rootScope.videos,e);$rootScope.videos.length==0;console.log("success",e.length);if(e.length<Dukt_videos.pagination_per_page){console.log("display none");$(".dv-video-more").css("display","none")}else $(".dv-video-more").css("display","block");$(".dv-main .toolbar .spinner").addClass("hidden")}).error(function(e,t,n,r){console.log("error",e,t,n,r)})}}var once=!1;